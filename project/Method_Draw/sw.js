const CACHE = 'cache-only-v1';

// При установке воркера мы должны закешировать часть данных (статику).
self.addEventListener('install', (event) => {
  event.waitUntil(
    caches.open('v1').then((cache) => {
      return cache.addAll([
        '/project/Method_Draw/',
				'/project/Method_Draw/index.html',
				'/project/Method_Draw/extensions/ext-shapes.xml',
				'/project/Method_Draw/images/mappoint.gif',
				'/project/Method_Draw/images/AlphaBar.png',
				'/project/Method_Draw/images/bar-opacity.png',
				'/project/Method_Draw/images/Bars.png',
				'/project/Method_Draw/images/drag.png',
				'/project/Method_Draw/images/dragging.png',
				'/project/Method_Draw/images/eyedropper.png',
				'/project/Method_Draw/images/logo.png',
				'/project/Method_Draw/images/map-opacity.png',
				'/project/Method_Draw/images/mappoint_c.png',
				'/project/Method_Draw/images/mappoint_f.png',
				'/project/Method_Draw/images/Maps.png',
				'/project/Method_Draw/images/pencil_cursor.png',
				'/project/Method_Draw/images/preview-opacity.png',
				'/project/Method_Draw/images/rotate.png',
				'/project/Method_Draw/images/eyedropper.svg',
				'/project/Method_Draw/images/favicon.svg',
				'/project/Method_Draw/images/NoColor.svg',
				'/project/Method_Draw/images/placeholder.svg',
				'/project/Method_Draw/images/rangearrows.svg',
				'/project/Method_Draw/images/rangearrows2.svg',
				'/project/Method_Draw/css/base.css',
				'/project/Method_Draw/css/method-draw.css',
				'/project/Method_Draw/css/jpicker.css',
				'/project/Method_Draw/css/jgraduate.css',
				'/project/Method_Draw/css/fonts.css',
				'/project/Method_Draw/css/dropdown.css',
				'/project/Method_Draw/css/draginput.css',
				'/project/Method_Draw/css/menu.css',
				'/project/Method_Draw/css/rulers.css',
				'/project/Method_Draw/css/palette.css',
				'/project/Method_Draw/css/color-tool.css',
				'/project/Method_Draw/css/context-menu.css',
				'/project/Method_Draw/css/shapelib.css',
				'/project/Method_Draw/css/modal.css',
				'/project/Method_Draw/css/source.css',
				'/project/Method_Draw/css/keyboard.css',
				'/project/Method_Draw/css/dialog.css',
				'/project/Method_Draw/css/app.css',
				'/project/Method_Draw/css/tools.css',
				'/project/Method_Draw/css/button.css',
				'/project/Method_Draw/css/select.css',
				'/project/Method_Draw/css/panel.css',
				'/project/Method_Draw/css/align_buttons.css',
				'/project/Method_Draw/css/text.css',
				'/project/Method_Draw/css/sponsors.css',
				'/project/Method_Draw/css/zoom-dropdown.css',
				'/project/Method_Draw/css/loading.css',
				'/project/Method_Draw/js/loading.js',
				'/project/Method_Draw/js/lib/jquery-3.5.1.min.js',
				'/project/Method_Draw/js/lib/pathseg.js',
				'/project/Method_Draw/js/lib/jquery.hotkeys.min.js',
				'/project/Method_Draw/js/lib/jquery.jgraduate.js',
				'/project/Method_Draw/js/lib/jquery.contextMenu.js',
				'/project/Method_Draw/js/lib/jquery-ui-1.8.17.custom.min.js',
				'/project/Method_Draw/js/jquery.attr.js',
				'/project/Method_Draw/js/lib/jquery-draginput.js',
				'/project/Method_Draw/js/lib/css.min.js',
				'/project/Method_Draw/js/utils.js',
				'/project/Method_Draw/js/dao.js',
				'/project/Method_Draw/js/state.js',
				'/project/Method_Draw/js/browser.js',
				'/project/Method_Draw/js/svgutils.js',
				'/project/Method_Draw/js/history.js',
				'/project/Method_Draw/js/select.js',
				'/project/Method_Draw/js/path.js',
				'/project/Method_Draw/js/sanitize.js',
				'/project/Method_Draw/js/units.js',
				'/project/Method_Draw/js/math.js',
				'/project/Method_Draw/js/translate.js',
				'/project/Method_Draw/js/svgtransformlist.js',
				'/project/Method_Draw/js/draw.js',
				'/project/Method_Draw/js/svgcanvas.js',
				'/project/Method_Draw/js/editor.js',
				'/project/Method_Draw/js/Canvas.js',
				'/project/Method_Draw/js/Text.js',
				'/project/Method_Draw/js/Pan.js',
				'/project/Method_Draw/js/Panel.js',
				'/project/Method_Draw/js/Rulers.js',
				'/project/Method_Draw/js/Toolbar.js',
				'/project/Method_Draw/js/Menu.js',
				'/project/Method_Draw/js/Keyboard.js',
				'/project/Method_Draw/js/Import.js',
				'/project/Method_Draw/js/PaintBox.js',
				'/project/Method_Draw/js/Palette.js',
				'/project/Method_Draw/js/Zoom.js',
				'/project/Method_Draw/js/Modal.js',
				'/project/Method_Draw/js/Title.js',
				'/project/Method_Draw/js/Darkmode.js',
				'/project/Method_Draw/js/ContextMenu.js',
				'/project/Method_Draw/js/Shapelib.js',
				'/project/Method_Draw/js/fonts.js',
				'/project/Method_Draw/js/dialog.js',
				'/project/Method_Draw/js/lib/contextmenu.js',
				'/project/Method_Draw/js/lib/jpicker.min.js',
				'/project/Method_Draw/js/lib/mousewheel.js',
				'/project/Method_Draw/js/eyedropper.js',
				'/project/Method_Draw/js/lib/requestanimationframe.js',
				'/project/Method_Draw/js/lib/taphold.js',
				'/project/Method_Draw/js/lib/filesaver.js',
				'/project/Method_Draw/js/paste.js',
				'/project/Method_Draw/js/modals.js',
				'/project/Method_Draw/js/start.js'

      ]);
    })
  );
});

self.addEventListener('activate', (event) => {
	console.log('Активирован');
});

self.addEventListener('fetch', (event) => {
  event.respondWith(
    caches.match(event.request)
  );
});